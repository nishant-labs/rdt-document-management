(this["webpackJsonprdt-document-management"]=this["webpackJsonprdt-document-management"]||[]).push([[0],{185:function(e,t,n){"use strict";n.r(t);n(95);var r,a=n(0),c=n.n(a),o=n(9),u=n.n(o),i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,229)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},s=n(29),l=n(17),j=n(52),b=n(51),d=n(226),p=n(12),f=n(227),O=n(225),h=n(13),x=n.n(h),v=n(20),g=n(86),m=n.n(g),y="SP.POP.TOTL",C="NY.GDP.MKTP.CD",w=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:if(!(r=e.sent).ok){e.next=15;break}if(-1===r.headers.get("Content-Type").indexOf("application/json")){e.next=10;break}return e.next=7,r.json();case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,r.text();case 12:e.t0=e.sent;case 13:return a=e.t0,e.abrupt("return",{payload:a});case 15:return e.next=17,r.json();case 17:return c=e.sent,e.abrupt("return",{error:{status:r.status,message:c}});case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=m()("{baseUrl}/country/{countryId}/indicator/{statsType}?format=json&date={fullYear}",{interpolate:/{([\s\S]+?)}/g}),D=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k({baseUrl:t,countryId:"all",statsType:y,fullYear:n}),e.next=3,w(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k({baseUrl:t,countryId:"all",statsType:C,fullYear:n}),e.next=3,w(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("configuration.json");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=n(4),G=c.a.createContext(),T=function(e){var t=e.children,n=Object(a.useState)(),r=Object(p.a)(n,2),c=r[0],o=r[1],u=Object(a.useState)(),i=Object(p.a)(u,2),s=i[0],l=i[1];return Object(a.useEffect)((function(){P().then((function(e){var t=e.error,n=e.payload;o(n),l(t)}))}),[]),Object(N.jsxs)(G.Provider,{value:{envConfigData:c,error:s},children:[c?t:Object(N.jsx)("div",{children:"Loading app..."}),s&&Object(N.jsx)("div",{children:"Something gone wrong while fetching config"})]})},U=c.a.createContext(),F=U.Consumer,A=function(e){var t=e.children,n=Object(a.useContext)(G).envConfigData,r=Object(a.useState)(),c=Object(p.a)(r,2),o=c[0],u=c[1],i=Object(a.useState)(),s=Object(p.a)(i,2),l=s[0],j=s[1],b=Object(a.useCallback)(function(){var e=Object(v.a)(x.a.mark((function e(t){var r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(n.baseUrl,t);case 2:r=e.sent,a=r.error,c=r.payload,u(c),j(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),d=Object(a.useCallback)((function(){u(void 0),j(void 0)}),[]);return Object(N.jsx)(U.Provider,{value:{gdpData:o,gdpApiError:l,fetchGdp:b,resetGdpData:d},children:t})},E=n(11),I=n(14),B=n(45),Y=n.n(B),L=n(30),M=Object(L.a)((function(e){return Y()(e,"gdp.[1]")||[]}),(function(e){return e.reduce((function(e,t){return Object(I.a)(Object(I.a)({},e),{},Object(E.a)({},t.countryiso3code,{countryName:t.country.value,gdp:t.value||0}))}),{})})),W=c.a.createContext(),J=W.Consumer,R=function(e){var t=e.children,n=Object(a.useContext)(G).envConfigData,r=Object(a.useState)(),c=Object(p.a)(r,2),o=c[0],u=c[1],i=Object(a.useState)(),s=Object(p.a)(i,2),l=s[0],j=s[1],b=Object(a.useCallback)(function(){var e=Object(v.a)(x.a.mark((function e(t){var r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(n.baseUrl,t);case 2:r=e.sent,a=r.error,c=r.payload,u(c),j(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),d=Object(a.useCallback)((function(){u(void 0),j(void 0)}),[]);return Object(N.jsx)(W.Provider,{value:{populationData:o,populationApiError:l,fetchPopulation:b,resetPopulationData:d},children:t})},q=Object(L.a)((function(e){return Y()(e,"population.[1]")||[]}),(function(e){return e.reduce((function(e,t){return Object(I.a)(Object(I.a)({},e),{},Object(E.a)({},t.countryiso3code,{countryName:t.country.value,population:t.value||0}))}),{})})),z=function(){var e=Object(a.useContext)(U),t=e.fetchGdp,n=e.resetGdpData,r=Object(a.useContext)(W),c=r.fetchPopulation,o=r.resetPopulationData,u=Object(a.useState)(!1),i=Object(p.a)(u,2),s=i[0],l=i[1],j=Object(a.useState)(""),b=Object(p.a)(j,2),h=b[0],x=b[1],v=Object(a.useState)(!1),g=Object(p.a)(v,2),m=g[0],y=g[1],C=Object(a.useCallback)((function(){y(!0)}),[]),w=Object(a.useCallback)((function(e){var t=e.target.value,n=t.length<4||isNaN(t,10);l(n),x(t),n||4!==t.length||y(!0)}),[]),k=Object(a.useCallback)((function(){n(),o(),t(h),c(h)}),[t,c,n,o,h]),D=s&&m,S=s||!(m&&h);return Object(N.jsxs)(d.a,{display:"flex",flexDirection:"row",justifyContent:"center",p:1,m:1,children:[Object(N.jsx)(d.a,{p:1,children:Object(N.jsx)(O.a,{error:D,value:h,onBlur:C,onChange:w,variant:"outlined",label:"Enter Year",helperText:D&&"Enter 4 digit full year, e.g. 2019, 1997 etc...",fullWidth:!0,required:!0})}),Object(N.jsx)(d.a,{p:2,children:Object(N.jsx)(f.a,{variant:"contained",color:"primary",disabled:S,onClick:k,children:"Get statistics"})})]})},K=n(220),H=n(221),Q=function(e){var t=e.children;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(K.a,{}),Object(N.jsx)(H.a,{maxWidth:"md",children:Object(N.jsx)(d.a,{display:"flex",flexDirection:"column",bgcolor:"background.paper",p:1,m:1,css:{width:"100%",height:"100%"},children:t})})]})},V=n(87),X=n(222),Z=n(223),$=Object(V.a)({overrides:{MuiTypography:{h1:{fontSize:[22,"!important"],fontWeight:"bold"}}}}),_=Object(X.a)({root:{width:"100%",height:"100%"}}),ee=function(e){var t=e.children,n=_();return Object(N.jsx)("div",{className:n.root,children:Object(N.jsx)(Z.a,{theme:$,children:t})})},te=n(35),ne=n(224),re=function(e){var t=e.type,n=e.text;return Object(N.jsx)(d.a,{display:"flex",flexDirection:"row",justifyContent:"center",p:1,children:Object(N.jsx)(ne.a,{variant:t,gutterBottom:!0,children:n})})},ae=Object(L.a)(M,q,(function(e,t){return Object.keys(t).map((function(n){var r=t[n]||{},a=e[n]||{};return Object(I.a)(Object(I.a)({countryCode:n},a),r)}))})),ce=(n(183),n(184),{sortable:!0,filter:!0}),oe=function(e){return e.value?(t=e.value,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)):"Not available";var t},ue=function(e){return e.value?(t=e.value,new Intl.NumberFormat("en-US").format(t)):"Not available";var t},ie=function(e){var t=e.population,n=e.gdp,r=ae({population:t,gdp:n});return 0===r.length?Object(N.jsx)(re,{type:"h6",text:"Data not found at World Bank center"}):Object(N.jsx)("div",{className:"ag-theme-alpine",style:{height:400,width:900},children:Object(N.jsxs)(te.AgGridReact,{rowData:r,defaultColDef:ce,children:[Object(N.jsx)(te.AgGridColumn,{headerName:"Country",field:"countryName",width:400,sort:"asc"}),Object(N.jsx)(te.AgGridColumn,{headerName:"Population",field:"population",width:250,valueFormatter:ue}),Object(N.jsx)(te.AgGridColumn,{headerName:"GDP (US dollars)",field:"gdp",width:250,valueFormatter:oe})]})})},se=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.populationData,n=e.gdpData,r=e.populationApiError,a=e.gdpApiError,c=r||a,o=!c&&(!t||!n);return Object(N.jsx)(ee,{children:Object(N.jsxs)(Q,{children:[Object(N.jsx)(re,{type:"h1",text:"RDT Document Management Communicate"}),Object(N.jsx)(z,{}),c&&Object(N.jsx)(re,{type:"body1",text:"Something went wrong while fetching data"}),o&&Object(N.jsx)(re,{type:"body1",text:"Use search box to get Population and GDP statistics from world bank for a specific year."}),!o&&!c&&Object(N.jsx)(d.a,{p:1,display:"flex",flexDirection:"row",justifyContent:"center",children:Object(N.jsx)(ie,{population:t,gdp:n})})]})})}}]),n}(a.Component),le=(r=se,function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(N.jsx)(F,{children:function(t){return Object(N.jsx)(J,{children:function(n){return Object(N.jsx)(r,Object(I.a)(Object(I.a)(Object(I.a)({},e.props),n),t))}})}})}}]),n}(c.a.Component));u.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(T,{children:Object(N.jsx)(R,{children:Object(N.jsx)(A,{children:Object(N.jsx)(le,{})})})})}),document.getElementById("root")),i(console.log)}},[[185,1,2]]]);
//# sourceMappingURL=main.31fcf3b1.chunk.js.map